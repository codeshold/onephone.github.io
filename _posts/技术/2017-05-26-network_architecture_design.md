---
title: “图解基础设施设计模式”小结
layout: post
author: WenfengShi
category: 技术
tags: [network]
---
博客链接: [http://codeshold.me/2017/05/network_architecture_design.html](http://codeshold.me/2017/05/network_architecture_design.html)

> 一本比较薄的书，就200来页，和《图解服务器端网络架构》一起看会很不错！
[图灵书籍链接](http://www.ituring.com.cn/book/1504)

## 概述
1. 本书是基于几百个IT系统的基础设施的调查和研究整理出来的，共包括118个设计模式和9种设计方式
2. 内容包括
    - 可用性设计
    - 性能和可扩展性设计
    - 安全性设计
    - 运用与维护设计
    - 云服务构建基础设施设计
3. 本书的“设计模式”针对的是`IT系统`

## 基础设施设计模式
1. 什么是基础设施
    - 系统 ＝ 应用程序 ＋ 基础设施
    - 基础设施 ＝ 硬件 ＋ 操作系统 ＋ 中间件
    - 基础设施构建的难点
2. 哪个阶段最重要
    - 需求定义、设计、构建、测试
    - 需求定义最重要
3. 事件的后果
4. 功能性需求和非功能性需求
    - `在系统中主要由应用程序实现功能性需求，基础设施实现非功能性需求`
5. 非功能性需求等级（克服非功能性需求定义困难的工具）
    - 网罗一般的非功能性需求
    - 定义程度
6. 满足需求设计方式的工具


## 可用性需求的实现策略

> 防止系统宕机

1. 可用性策略的基础
    - `SPOF`(Single Point of Failture)
    - 预防故障、快速恢复、编写文档与持续改善、完整和彻底的确认
2. Web/AP服务器的高可用性设计
    - 容错服务器/大型机模式
    - 负载均衡模式(会话共享, 会话非共享)
    - 备用机模式
3. DB服务器的可用性设计
    - 容错服务器/大型机模式, 并列DB集群, N+1集群结构, 双机互备集群结构
4. 虚拟服务器冗余设计
    - 集群软件, 虚拟机管理器HA功能, 实时迁移
5. LAN的可用性设计
    - 高可靠性核心交换机模式, 动态路由, VLAN, 双机热备
6. WAN的可用性设计
    - 双网双工, 双网热备, 单网双链路, 互联网VPN备用, ISDN备用
7. 互联网联机的设计
    - BGP多宿主模式, 双链路模式, 单链路模式
8. 数据备份的可用性设计
    - 存储复制
    - SAN/NAS 存储复制模式
    - SAN/NAS 快照模式
    - 业务服务器备份模式, 业务LAN备份模式
9. 灾害应对测试的设计
    - 广域集群模式
    - 双系统热备DR模式, 降级热备DR模式
    - 备份转移模式
    - 远程镜像方式类型
        - 存储设备远程镜像、软件复制、RDBMS复制、RDBMS日志传送
    - 备份数据传送类型
        - 文件传送、远程磁带传送


## 安全性需求的实现策略

> 保护系统不受威胁

1. 安全性策略
    - 攻击方式、加密、认证
    - 访问控制
        - `任意/角色/强制`访问控制
        - 网络安全性、引入防火墙、构建DMZ、引入IDS
2. 非法访问应对策略
    - 单防火墙DMZ模式、双防火墙DMZ模式
    - DMZ+IDS模式、 DMZ+IPS模式
3. 身份认证
    - 生物认证、一次性认证
    - IC卡＋密码模式， IC卡/令牌模式
    - ID 密码模式
4. ID管理和维护
    - 单点登录模式
    - 统一ID的个别登录模式
    - 个别ID的个别登录模式
5. 信息泄露
    - 瘦客户端、外存管理、数据加密、数据分割、通信加密

## 性能与可扩展性需求的实现策略

> 防止系统性能下降

1. 性能与可扩展性策略的基础
2. 可扩展性设计
    - 扩容模式、升级模式、功能分割模式、集群模式、无共享模式、共享磁盘模式
3. 超负荷应对策略
    - 访问控制、资源分割、并发数控制、资源结构变更、网络带宽控制

## 运用与维护性需求的实现策略

> 不放过系统故障

1. 运用与维护性策略
    - 系统监控、任务管理、备份管理、运维管理
2. 运用与维护体制
    - 服务级别提升模式、服务级别管理模式、定期监控模式
3. 构成管理
    - 隔离网络模式、代理软件构成管理模式、工具软件构成管理模式
4. 系统监控
5. 任务管理
6. 时钟同步、杀毒软件更新

## 基础设施构成的设计方式
1. Web系统的网络
2. 存储设备构成
3. 报表生成
4. 报表输出
5. 报表基础设施配置
6. 数据使用和信息分析
7. 基础设施交互结构

## 使用云计算服务的实现策略
1. 性能和可扩展性
2. 备份的可用性
3. 虚拟服务器的可用性

## 基于模式的设计实践
1. 基础设施构成的讨论步骤
2. 地理信息系统
3. 综合DB系统

